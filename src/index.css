@tailwind base;
@tailwind components;
@tailwind utilities;

/* Pretendard Font */
@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Thin.woff2') format('woff2');
  font-weight: 100;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-ExtraLight.woff2') format('woff2');
  font-weight: 200;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Light.woff2') format('woff2');
  font-weight: 300;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Regular.woff2') format('woff2');
  font-weight: 400;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Medium.woff2') format('woff2');
  font-weight: 500;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Bold.woff2') format('woff2');
  font-weight: 700;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-ExtraBold.woff2') format('woff2');
  font-weight: 800;
  font-display: swap;
}

@font-face {
  font-family: 'Pretendard';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/pretendard@1.0/Pretendard-Black.woff2') format('woff2');
  font-weight: 900;
  font-display: swap;
}

/* Ridibatang Font */
@font-face {
  font-family: 'Ridibatang';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.0/RIDIBatang.woff') format('woff');
  font-weight: normal;
  font-display: swap;
}

body {
  margin: 0;
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #ffffff;
  color: #111827;
  transition: background-color 0.2s, color 0.2s;
}

.dark body {
  background-color: #111827;
  color: #f9fafb;
}

#root {
  min-height: 100vh;
}

/* Tiptap Editor Styles */
.ProseMirror {
  outline: none;
  font-size: 18px !important; /* 기본 폰트 크기 */
  line-height: 1.8 !important; /* 항상 1.8 고정 */
  font-family: var(--editor-font-family, 'Pretendard, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif') !important;
}

/* ProseMirror 내부의 모든 텍스트 요소에 기본 폰트 크기 및 line-height 적용 */
.ProseMirror p,
.ProseMirror div,
.ProseMirror li,
.ProseMirror ul,
.ProseMirror ol {
  font-size: 18px !important; /* 기본 폰트 크기 */
  line-height: 1.8 !important; /* 항상 1.8 고정 */
}

/* 폰트 크기가 설정되지 않은 span만 기본 폰트 크기 적용 (data-font-size가 있는 span은 제외) */
.ProseMirror span:not([data-font-size]) {
  font-size: 18px !important; /* 기본 폰트 크기 */
  line-height: 1.8 !important; /* 항상 1.8 고정 */
}

/* data-font-size가 있는 span은 폰트 크기는 인라인 스타일로 적용, line-height는 항상 1.8 */
.ProseMirror span[data-font-size] {
  line-height: 1.8 !important; /* 항상 1.8 고정 */
  /* font-size는 인라인 스타일로 설정되므로 여기서는 제외 */
}

/* prose 클래스가 적용된 ProseMirror도 기본 폰트 크기 보장 */
.prose.ProseMirror,
.ProseMirror.prose {
  font-size: 18px !important; /* 기본 폰트 크기 */
  line-height: 1.8 !important; /* 항상 1.8 고정 */
}

.prose.ProseMirror p,
.ProseMirror.prose p,
.prose.ProseMirror div,
.ProseMirror.prose div {
  font-size: 18px !important; /* 기본 폰트 크기 */
  line-height: 1.8 !important; /* 항상 1.8 고정 */
}

/* 폰트 크기가 설정되지 않은 span만 기본 폰트 크기 적용 */
.prose.ProseMirror span:not([style*="font-size"]),
.ProseMirror.prose span:not([style*="font-size"]) {
  font-size: 18px !important; /* 기본 폰트 크기 */
  line-height: 1.8 !important; /* 항상 1.8 고정 */
}

/* 회차 보기 모드에서 폰트 적용 - inherit 제거하여 인라인 스타일이 작동하도록 */

.ProseMirror p.is-editor-empty:first-child::before {
  color: #adb5bd;
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}

.dark .ProseMirror p.is-editor-empty:first-child::before {
  color: #6b7280;
}

.ProseMirror ul,
.ProseMirror ol {
  padding-left: 1.5rem;
}

.ProseMirror ul {
  list-style-type: disc;
}

.ProseMirror ol {
  list-style-type: decimal;
}

.ProseMirror h1 {
  font-size: 2em;
  font-weight: bold;
  margin-top: 0.67em;
  margin-bottom: 0.67em;
}

.ProseMirror h2 {
  font-size: 1.5em;
  font-weight: bold;
  margin-top: 0.83em;
  margin-bottom: 0.83em;
}

.ProseMirror h3 {
  font-size: 1.17em;
  font-weight: bold;
  margin-top: 1em;
  margin-bottom: 1em;
}

.ProseMirror strong {
  font-weight: bold;
}

.ProseMirror em {
  font-style: italic;
}

.ProseMirror ul,
.ProseMirror ol {
  margin: 1em 0;
}

.ProseMirror li {
  margin: 0.5em 0;
}

/* 보기 모드 스타일 */
.prose {
  color: #374151;
}

.dark .prose {
  color: #d1d5db;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  font-weight: 600;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  line-height: 1.25;
}

.prose h1 {
  font-size: 2em;
}

.prose h2 {
  font-size: 1.5em;
}

.prose h3 {
  font-size: 1.25em;
}

.prose p {
  margin: 1em 0;
}

.prose ul,
.prose ol {
  margin: 1em 0;
  padding-left: 2em;
}

.prose ul {
  list-style-type: disc;
}

.prose ol {
  list-style-type: decimal;
}

.prose li {
  margin: 0.5em 0;
}

.prose strong {
  font-weight: 600;
}

.prose em {
  font-style: italic;
}

.prose a {
  color: #2563eb;
  text-decoration: underline;
}

.dark .prose a {
  color: #60a5fa;
}

.prose blockquote {
  border-left: 4px solid #e5e7eb;
  padding-left: 1em;
  margin: 1em 0;
  color: #6b7280;
}

.dark .prose blockquote {
  border-left-color: #4b5563;
  color: #9ca3af;
}

